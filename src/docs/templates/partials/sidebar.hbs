<ul class="space-y-2">
  {{#each sidebar}}
    {{#if (eq this.type "doc")}}
      <li>
        <a href="/docs/page/{{this.id}}"
           class="flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200 {{#if (eq ../active this.id)}}bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300{{else}}text-gray-600 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white{{/if}}">
          {{#if (eq ../active this.id)}}
            <i class="fas fa-file-alt mr-3 text-blue-600 dark:text-blue-400"></i>
          {{else}}
            <i class="far fa-file-alt mr-3 text-gray-400 dark:text-gray-500"></i>
          {{/if}}
          <span class="truncate">{{this.label}}</span>
        </a>
      </li>
    {{else}}
      <li class="space-y-1">
        <!-- Category Header -->
        <div class="flex items-center px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider dark:text-gray-400">
          <i class="fas fa-folder mr-2 text-gray-400 dark:text-gray-500"></i>
          {{this.label}}
        </div>

        <!-- Category Items -->
        <ul class="ml-4 space-y-1">
          {{#each this.items}}
            <li>
              <a href="/docs/page/{{this.id}}"
                 class="flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200 {{#if (eq ../../active this.id)}}bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300{{else}}text-gray-600 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white{{/if}}">
                {{#if (eq ../../active this.id)}}
                  <i class="fas fa-file-alt mr-3 text-blue-600 dark:text-blue-400"></i>
                {{else}}
                  <i class="far fa-file-alt mr-3 text-gray-400 dark:text-gray-500"></i>
                {{/if}}
                <span class="truncate">{{this.label}}</span>
              </a>
            </li>
          {{/each}}
        </ul>
      </li>
    {{/if}}
  {{/each}}
</ul>

<!-- Search Bar (Optional enhancement) -->
<div class="mt-6 px-3">
  <div class="relative">
    <input type="text"
           placeholder="Search docs..."
           class="w-full pl-10 pr-4 py-2 text-sm bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:focus:bg-gray-600 dark:text-white dark:placeholder-gray-400">
    <i class="fas fa-search absolute left-3 top-3 text-gray-400 dark:text-gray-500"></i>
  </div>
</div>

<!-- Navigation Helper (for long sidebars) -->
<div class="mt-4 px-3">
  <div class="text-xs text-gray-500 dark:text-gray-400">
    <div class="flex items-center justify-between">
      <span>Use ↑↓ to navigate</span>
      <span class="text-blue-600 dark:text-blue-400">{{sidebar.length}} items</span>
    </div>
  </div>
</div>
